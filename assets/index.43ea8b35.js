var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,s=(a,t,o)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[t]=o;import{c as l,k as c,m,r as i,o as p,n as u,p as d,v as f,q as y,s as b,w as v,e as _,t as h,P as w,x as g,N as k,y as j,f as C,K as O,z as P,A as $,B as x}from"./vendor.986fff3c.js";import{u as H,l as B}from"./index.764959f2.js";/* empty css              */import{_ as F}from"./NavBarIcon.ebe36479.js";const S=x(" 首页 "),I=x(" 分类 "),L=x(" 动态 "),N=x(" 我的 "),R=defineComponent({name:"Layout"});var T,U=l((T=((e,a)=>{for(var t in a||(a={}))r.call(a,t)&&s(e,t,a[t]);if(o)for(var t of o(a))n.call(a,t)&&s(e,t,a[t]);return e})({},R),a(T,t({setup(e){const a=c(),t=m(),o=H(),r=toRef(o.state,"token"),n=computed((()=>a.meta&&a.meta.title||"")),s=computed((()=>a.meta&&a.meta.showHeader)),l=computed((()=>a.meta&&a.meta.showTabbar)),x={Home:()=>{t.push({name:"Search"})}},R=()=>{var e;const t=a.name;"string"==typeof t&&0!==t.length&&(null==(e=x[t])||e.call(x))},T={Home:()=>{q.value=!0},Feed:()=>{A()},Personal:()=>{D()}},U=()=>{var e;const t=a.name;"string"==typeof t&&0!==t.length&&(null==(e=T[t])||e.call(T))},q=ref(!1),z=()=>{t.push({name:"UploadVideo"})},A=()=>{t.push({name:"CreateFeed"})},D=async()=>{await B(),o.state.updateToken("")};return(e,a)=>{const t=i("router-view");return p(),u("div",{class:g(e.$style.layoutContainer)},[d(b(y(k),{class:g(e.$style.navBar),fixed:"",placeholder:"",title:y(n),onClickLeft:R,onClickRight:U},{left:v((()=>["Home"===e.$route.name?(p(),_(F,{key:0,name:"search"})):h("",!0)])),right:v((()=>["Home"===e.$route.name?(p(),_(y(w),{key:0,show:q.value,"onUpdate:show":a[0]||(a[0]=e=>q.value=e),placement:"bottom-end",theme:"dark",actions:[{text:"发布视频",icon:"play-circle-o"}],onSelect:z},{reference:v((()=>[b(F,{name:"add"})])),_:1},8,["show"])):h("",!0),"Feed"===e.$route.name?(p(),_(F,{key:1,name:"edit"})):h("",!0),"Personal"===e.$route.name&&""!==y(r)?(p(),_(F,{key:2,name:"log-out"})):h("",!0)])),_:1},8,["class","title"]),[[f,y(s)]]),b(t,null,{default:v((({Component:e})=>[b(j,{name:"component-fade",mode:"out-in",appear:!1},{default:v((()=>[(p(),_(O,null,[(p(),_(C(e)))],1024))])),_:2},1024)])),_:1}),d(b(y($),{class:g(e.$style.tabbar),fixed:"",placeholder:"",route:"","active-color":"#07c160","inactive-color":"#000"},{default:v((()=>[b(y(P),{replace:"",to:{name:"Home"},icon:"home-o"},{default:v((()=>[S])),_:1}),b(y(P),{replace:"",to:{name:"Category"},icon:"apps-o"},{default:v((()=>[I])),_:1}),b(y(P),{replace:"",to:{name:"Feed"},icon:"like-o"},{default:v((()=>[L])),_:1}),b(y(P),{replace:"",to:{name:"Personal"},icon:"contact"},{default:v((()=>[N])),_:1})])),_:1},8,["class"]),[[f,y(l)]])],2)}}}))));var q={layoutContainer:"_layoutContainer_5rrww_2",navBar:"_navBar_5rrww_2",tabbar:"_tabbar_5rrww_3"};(U.__cssModules={}).$style=q;export{U as default};
